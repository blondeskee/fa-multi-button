!function(t){t.fn.famultibutton=function(o){function n(){r=!0,l.children().first().css("color",c.onBackgroundColor),l.children().last().css("color",c.onColor)}function e(){r=!1,l.children().first().css("color",c.offBackgroundColor),l.children().last().css("color",c.offColor)}function s(){r&&(r=!1,t("<div />").animate({width:100},{duration:700,easing:"swing",step:function(t,o){var n=(t-o.start)/(o.end-o.start);l.children().first().css("color",getGradientColor(c.onBackgroundColor,c.offBackgroundColor,n)),l.children().last().css("color",getGradientColor(c.onColor,c.offColor,n))}}))}if(this.length>1)return this.each(function(){t(this).famultibutton(o)}),this;var l=this,r=!1,a={backgroundIcon:"fa-circle",classes:["fa-2x"],icon:"fa-power-off",offColor:"#2A2A2A",offBackgroundColor:"#505050",onColor:"#2A2A2A",onBackgroundColor:"#aa6900",mode:"toggle",toggleOn:null,toggleOff:null},c=t.extend({},a,o),i=function(){if(c=t.extend({},c,l.data()),l.addClass("fa-stack"),jQuery("<i/>",{id:"bg","class":"fa fa-stack-2x"}).addClass(c.backgroundIcon).appendTo(l),jQuery("<i/>",{id:"fg","class":"fa fa-stack-1x"}).addClass(c.icon).appendTo(l),c.classes&&c.classes.length>0)for(var o=0;o<c.classes.length;o++)l.addClass(c.classes[o]);return e(),l};if(getGradientColor=function(t,o,n){t=t.replace(/^\s*#|\s*$/g,""),o=o.replace(/^\s*#|\s*$/g,""),3==t.length&&(t=t.replace(/(.)/g,"$1$1")),3==o.length&&(o=o.replace(/(.)/g,"$1$1"));var e=parseInt(t.substr(0,2),16),s=parseInt(t.substr(2,2),16),l=parseInt(t.substr(4,2),16),r=parseInt(o.substr(0,2),16),a=parseInt(o.substr(2,2),16),c=parseInt(o.substr(4,2),16),i=r-e,u=a-s,f=c-l;return i=(i*n+e).toString(16).split(".")[0],u=(u*n+s).toString(16).split(".")[0],f=(f*n+l).toString(16).split(".")[0],1==i.length&&(i="0"+i),1==u.length&&(u="0"+u),1==f.length&&(f="0"+f),"#"+i+u+f},"push"==c.mode){var u=null!==document.ontouchstart?"mousedown":"touchstart",f=null!==document.ontouchend?"mouseup":"touchend",g=null!==document.ontouchleave?"mouseout":"touchleave";this.bind(u,function(t){n(),"function"==typeof c.toggleOn&&c.toggleOn.call(this),t.preventDefault()}),this.bind(f,function(t){s(),t.preventDefault()}),this.bind(g,function(t){s(),t.preventDefault()})}else if("toggle"==c.mode){var u=null!==document.ontouchstart?"click":"touchstart";this.bind(u,function(t){r?(e(),"function"==typeof c.toggleOff&&c.toggleOff(this)):(n(),"function"==typeof c.toggleOn&&c.toggleOn.call(this)),t.preventDefault()})}return this.setOn=function(){n()},this.setOff=function(){e()},this.getState=function(){return r},i()}}(jQuery);